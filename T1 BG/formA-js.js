const comunas0 = ["--Seleccione una comuna--"];
const comunas1 = ["--Seleccione una comuna--","Alto Hospicio","Camiña","Colchane","Huara",
"Iquique","Pica","Pozo Almonte"];
const comunas2 = ["--Seleccione una comuna--","Antofagasta","Calama","María Elena","Mejillones",
"Ollagüe","San Pedro de Atacama","Sierra Gorda","Taltal","Tocopilla"];
const comunas3 = ["--Seleccione una comuna--","Alto del Carmen","Caldera","Chañaral",
"Copiapó","Diego de Almagro","Freirina","Huasco","Tierra Amarilla","Vallenar"];
const comunas4 = ["--Seleccione una comuna--","Andacollo","Canela","Combarbalá","Coquimbo",
"Illapel","La Higuera","La Serena","Los Vilos","Monte Patria","Ovalle","Paihuano","Punitaqui",
"Río Hurtado","Salamanca","Vicuña"];
const comunas5 = ["--Seleccione una comuna--","Algarrobo","Cabildo","Calle Larga","Cartagena",
"Casablanca","Catemu","Concón","El Quisco","El Tabo","Hijuelas","Juan Fernández","La Calera",
"La Cruz","La Ligua","Limache","Llay-Llay","Los Andes","Nogales","Olmué","Panquehue","Papudo",
"Petorca","Puchuncaví","Putaendo","Quillota","Quilpué","Quintero","Rapa Nui","Rinconada",
"San Antonio","San Esteban","San Felipe","Santa María","Santo Domingo","Valparaíso",
"Villa Alemana","Viña del Mar","Zapallar"];
const comunas6 = ["--Seleccione una comuna--","Chépica","Chimbarongo","Codegua","Coinco",
"Coltauco","Doñihue","Graneros","La Estrella","Las Cabras","Litueche","Lolol","Machalí",
"Malloa","Marchigüe","Mostazal","Nancagua","Navidad","Olivar","Palmilla","Paredones",
"Peralillo","Peumo","Pichidegua","Pichilemu","Placilla","Pumanque","Quinta de Tilcoco",
"Rancagua","Rengo","Requínoa","San Fernando","Santa Cruz","San Vicente de Tagua-Tagua"];
const comunas7 = ["--Seleccione una comuna--","Cauquenes","Chanco","Colbún","Constitución",
"Curepto","Curicó","Empedrado","Hualañé","Licantén","Linares","Longaví","Maule","Molina",
"Parral","Pelarco","Pelluhue","Pencahue","Rauco","Retiro","Río Claro","Romeral",
"Sagrada Familia","San Clemente","San Javier","San Rafael","Talca","Teno","Vichuquén",
"Villa Alegre","Yerbas Buenas"];
const comunas8 = ["--Seleccione una comuna--","Alto Biobío","Antuco","Arauco","Cabrero",
"Cañete","Chiguayante","Concepción","Contulmo","Coronel","Curanilahue","Florida","Haulpén",
"Hualqui","Laja","Lebu","Los Álamos","Los Ángeles","Lota","Mulchén","Nacimiento","Negrete",
"Penco","Quilaco","Quilleco","San Pedro de la Paz","San Rosendo","Santa Bárbara",
"Santa Juana","Talcahuano","Tirúa","Tomé","Tucapel","Yumbel"];
const comunas9 = ["--Seleccione una comuna--","Angol","Carahue","Cholchol","Collipulli",
"Cunco","Curacautín","Curarrehue","Ercilla","Freire","Galvarino","Gorbea","Lautaro",
"Loncoche","Lonquimay","Los Sauces","Lumaco","Melipeuco","Nueva Imperial","Padre las Casas",
"Perquenco","Pitrufquén","Pucón","Puerto Saavedra","Purén","Renaico","Temuco","Teodoro Schmidt",
"Toltén","Traiguén","Victoria","Vilcún","Villarrica"];
const comunas10 = ["--Seleccione una comuna--","Ancud","Calbuco","Castro","Chaitén","Chonchi",
"Cochamó","Curaco de Vélez","Dalcahue","Fresia","Frutillar","Futaleufú","Hualaihué",
"Llanquihue","Los Muermos","Maullín","Osorno","Palena","Puerto Montt","Puerto Octay",
"Puerto Varas","Puqueldón","Purranque","Puyehue","Queilen","Quemchi","Quellón","Quinchao",
"Río Negro","San Juan de la Costa","San Pablo"];
const comunas11 = ["--Seleccione una comuna--","Aysén","Chile Chico","Cisnes","Cochrane",
"Coyhaique","Guaitecas","Lago Verde","O'Higgins","Río Ibáñez","Tortel"];
const comunas12 = ["--Seleccione una comuna--","Antártica","Cabo de Hornos","Laguna Blanca",
"Natales","Porvenir","Primavera","Punta Arenas","Río Verde","San Gregorio","Timaukel",
"Torres del Paine"];
const comunas13 = ["--Seleccione una comuna--","Alhué","Buin","Calera de Tango","Cerrillos",
"Cerro Navia","Colina","Conchalí","Curacaví","El Bosque","El Monte","Estación Central",
"Huechuraba","Independencia","Isla de Maipo","La Cisterna","La Granja","La Florida","La Pintana",
"La Reina","Lampa","Las Condes","Lo Barnechea","Lo Espejo","Lo Prado","Macul","Maipú",
"María Pinto","Melipilla","Ñuñoa","Paine","Padre Hurtado","Pedro Aguirre Cerda","Peñaflor",
"Peñalolén","Pirque","Providencia","Pudahuel","Puente Alto","Quilicura","Quinta Normal",
"Recoleta","Renca","San Bernardo","San Miguel","San Joaquín","San José de Maipo","San Pedro",
"San Ramón","Santiago","Talagante","Til Til","Vitacura"];
const comunas14 = ["--Seleccione una comuna--","Corral","Futrono","Lago Ranco","Lanco",
"La Unión","Los Lagos","Máfil","Mariquina","Paillaco","Panguipulli","Río Bueno","Valdivia"];
const comunas15 = ["--Seleccione una comuna--","Arica","Camarones","General Lagos","Putre"];
const comunas16 = ["--Seleccione una comuna--","Bulnes","Chillán","Chillán Viejo",
"Cobquecura","Coelemu","Coihueco","El Carmen","Ninhue","Ñiquén","Pemuco","Pinto","Portezuelo",
"Quillón","Quirihue","Ránquil","San Carlos","San Fabián","San Ignacio","San Nicolás",
"Trehuaco","Yungay"];

const ComunasDeChile = [comunas0,comunas1,comunas2,comunas3,comunas4,comunas5,comunas6,comunas7,
comunas8,comunas9,comunas10,comunas11,comunas12,comunas13,comunas14,comunas15,comunas16];

function setComunas(numero) {
	let onSet = document.getElementById("cm")
	while(onSet.firstChild) {
		onSet.removeChild(onSet.firstChild)
	}
	let conjComunas = ComunasDeChile[numero];
	let lenComunas = conjComunas.length;
	for(i=0; i < lenComunas; i+=1) {
		let newOption = document.createElement("option")
		newOption.value = conjComunas[i];
		newOption.text = conjComunas[i];
		onSet.appendChild(newOption)
	}
}

function Validar() {
	let Region = document.getElementById("rg");
	let City = document.getElementById("cm");
	let Type = document.getElementById("tipo");
	let T2 = document.getElementById("tipo2");
	let T3 = document.getElementById("tipo3");
	let Description = document.getElementById("des");
	let Pictures = document.getElementById("pics");
	let Name = document.getElementById("Nmbr");
	let Email = document.getElementById("mail");
	let Phone = document.getElementById("num");
	
	Region.required = true;
	let ValidRegion = Region.value != "0";
	City.required = true;
	let ValidCity = City.value != "--Seleccione una comuna--";
	Type.required = true;
	let ValidType = Type.value != "0";
	let ValidPictures = Pictures.files.length > 0 && Pictures.files.length < 4;
	Name.required = true;
	let ValidName = Name.value.length > 2 && Name.value.length < 81;
	Email.required = true;
	let ValidEmail = /^[^\s@]+@[^\s@]+\.com/.test(Email.value);
	let ValidPhone = /^\+569 (\d{4}) (\d{4})/.test(Phone.value);
	
	let space = document.getElementById("top");
	let m1 = document.getElementById("E1");
	let m2 = document.getElementById("E2");
	let m3 = document.getElementById("E3");
	let m4 = document.getElementById("E4");
	let m5 = document.getElementById("E5");
	let m6 = document.getElementById("E6");
	let m7 = document.getElementById("E7");
	let m8 = document.getElementById("E8");
	let b1 = document.getElementById("confirmar");
	let b2 = document.getElementById("no-confirmar");
	
	space.style.display = "block";
	
	if (!ValidRegion) {
		m1.style.display = "block";
	} else {m1.style.display = "none";}
	
	if (!ValidCity) {
		m2.style.display = "block";
	} else {m2.style.display = "none";}
	
	if (!ValidType) {
		m3.style.display = "block";
	} else {m3.style.display = "none";}
	
	if (!ValidPictures) {
		m4.style.display = "block";
	} else {m4.style.display = "none";}
	
	if (!ValidName) {
		m5.style.display = "block";
	} else {m5.style.display = "none";}
	
	if (!ValidEmail) {
		m6.style.display = "block";
	} else {m6.style.display = "none";}
	
	if ((!ValidPhone) && (Phone.value != "")) {
		m7.style.display = "block";
	} else {m7.style.display = "none";}
	
	if (ValidRegion && ValidCity && ValidType && ValidPictures && ValidName && 
	(ValidEmail || Email.value == "") && 
	(ValidPhone || Phone.value == "") ) {
		m8.style.display = "block";
		b1.style.display = "block";
		b2.style.display = "block";
		Type.disabled = true;
		T2.disabled = true;
		T3.disabled = true;
		Region.disabled = true;
		City.disabled = true;
		Name.disabled = true;
		Email.disabled = true;
		Phone.disabled = true;
		Description.disabled = true;
		Pictures.disabled = true;
	} 
	else {
		m8.style.display = "none";
		b1.style.display = "none";
		b2.style.display = "none";
	}
}

function Felicitaciones() {
	let Region = document.getElementById("rg");
	let City = document.getElementById("cm");
	let Type = document.getElementById("tipo");
	let T2 = document.getElementById("tipo2");
	let T3 = document.getElementById("tipo3");
	let Description = document.getElementById("des");
	let Pictures = document.getElementById("pics");
	let Name = document.getElementById("Nmbr");
	let Email = document.getElementById("mail");
	let Phone = document.getElementById("num");
	
	Type.disabled = false;
	T2.disabled = false;
	T3.disabled = false;
	Region.disabled = false;
	City.disabled = false;
	Name.disabled = false;
	Email.disabled = false;
	Phone.disabled = false;
	Description.disabled = false;
	Pictures.disabled = false;
	
	alert("Hemos recibido el registro de Artesano. Muchas gracias.");
}

function goBack() {
	let Region = document.getElementById("rg");
	let City = document.getElementById("cm");
	let Type = document.getElementById("tipo");
	let T2 = document.getElementById("tipo2");
	let T3 = document.getElementById("tipo3");
	let Description = document.getElementById("des");
	let Pictures = document.getElementById("pics");
	let Name = document.getElementById("Nmbr");
	let Email = document.getElementById("mail");
	let Phone = document.getElementById("num");
	
	let space = document.getElementById("top");
	let m8 = document.getElementById("E8");
	let b1 = document.getElementById("confirmar");
	let b2 = document.getElementById("no-confirmar");
	
	m8.style.display = "none";
	b1.style.display = "none";
	b2.style.display = "none";
	space.style.display = "none";
	Type.disabled = false;
	T2.disabled = false;
	T3.disabled = false;
	Region.disabled = false;
	City.disabled = false;
	Name.disabled = false;
	Email.disabled = false;
	Phone.disabled = false;
	Description.disabled = false;
	Pictures.disabled = false;
}